(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{216:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ra}));var r=n(0),i=n(8),c=n.n(i),a=n(73),o=n(323),s=n(317),l=n(7),u=n.n(l),d=n(10),f=n.n(d),j=n(159),b=n.n(j).a.create({baseURL:"https://app-devis-test.herokuapp.com/",withCredentials:!0}),p=n(34),x=function(e){return p.default.alert("Une erreur est survenue","Une erreur de type "+e+", l'action a \xe9t\xe9 annul\xe9e",[{text:"Ok",onPress:function(){},style:"cancel"}])},h=n(1),O=Object(r.createContext)(null),g=O.Provider,m=function(e){var t=e.children,n=Object(r.useState)({authenticated:null}),i=u()(n,2),c=i[0],a=i[1];return Object(h.jsx)(g,{value:{authState:c,setAuthState:a,logout:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.awrap(b.post("/signout"));case 3:200===e.sent.status&&a({authenticated:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x(e.t0);case 10:case"end":return e.stop()}}),null,null,[[0,7]],Promise)}},children:t})},w=Object(r.createContext)(),y=w.Provider,v=function(e){var t=e.children,n=Object(r.useState)({id:null,firstName:null,lastName:null,mail:null,role_id:null}),i=u()(n,2),c=i[0],a=i[1];return Object(h.jsx)(y,{value:{user:c,setUser:a},children:t})},C=n(4),P=n(15),S=n(72),T=n(64),k=n(6),E=n(51);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,N,L,D,F,I,R,B,_,M,U,H,W,J,K=k.default.create({main:{flex:1,backgroundColor:"#EEEFF5"},header:{padding:30},title:{fontSize:30,textAlign:"center",marginVertical:50},textInput:{fontSize:18,marginBottom:10,fontWeight:"600"},input:{padding:10,fontSize:20,borderWidth:2,borderColor:"black",backgroundColor:"white",borderRadius:10},mdpInput:{marginTop:20},inputContainer:{paddingHorizontal:30},resetPass:{textAlign:"center",marginVertical:10,fontWeight:"700"},button:{marginTop:30,backgroundColor:"#083D77",borderRadius:50},buttonContainer:{paddingHorizontal:80},textButton:{fontSize:20,color:"white",padding:20,textAlign:"center",fontWeight:"600"},errorText:{color:"red",textAlign:"center"}}),q=function(e){var t=e.navigation,n=Object(r.useState)(""),i=u()(n,2),c=i[0],o=i[1],s=Object(r.useState)(""),l=u()(s,2),d=l[0],j=l[1],p=Object(r.useState)([]),g=u()(p,2),m=g[0],y=g[1],v=Object(r.useContext)(O).setAuthState,k=Object(r.useContext)(w),V=k.user,A=k.setUser;return Object(h.jsxs)(S.default,{style:K.main,children:[Object(h.jsx)(a.default,{barStyle:"dark-content"}),Object(h.jsx)(C.default,{style:K.header,children:Object(h.jsx)(P.default,{style:K.title,children:"Bonjour, Bienvenue sur l\u2019application devis de Webgo"})}),Object(h.jsxs)(C.default,{style:K.inputContainer,children:[Object(h.jsx)(P.default,{style:K.textInput,children:"Adresse mail"}),Object(h.jsx)(T.default,{onChangeText:o,value:c,autoCapitalize:"none",clearButtonMode:"while-editing",style:K.input,textContentType:"emailAddress",keyboardType:"email-address"}),m.length>0&&m.some((function(e){return 2===e.errorCode}))?Object(h.jsx)(P.default,{style:K.errorText,children:m.filter((function(e){return 2===e.errorCode}))[0].message}):null]}),Object(h.jsxs)(C.default,{style:[K.inputContainer,K.mdpInput],children:[Object(h.jsx)(P.default,{style:K.textInput,children:"Mot de passe"}),Object(h.jsx)(T.default,{onChangeText:j,value:d,textContentType:"password",secureTextEntry:!0,clearButtonMode:"while-editing",style:[K.input,K.inputBottom]}),m.length>0&&m.some((function(e){return 3===e.errorCode}))?Object(h.jsx)(P.default,{style:K.errorText,children:m.filter((function(e){return 3===e.errorCode}))[0].message}):null]}),Object(h.jsx)(E.default,{onPress:function(){return t.navigate("Reset Password")},children:Object(h.jsx)(P.default,{style:K.resetPass,children:"Mot de passe oubli\xe9 ?"})}),Object(h.jsxs)(C.default,{style:K.buttonContainer,children:[Object(h.jsx)(E.default,{style:K.button,onPress:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c||y(m.concat({errorCode:2,message:"Merci de rentrer une adresse mail"})),d||y(m.concat({errorCode:3,message:"Merci de rentrer un mot de passe"})),t.next=5,f.a.awrap(b.post("/signin",{mail:c,password:d}));case 5:(e=t.sent)||x("Une erreur est survenue durant la connexion, merci de r\xe9essayer"),A(z(z({},V),e.data)),v({authenticated:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),v({authenticated:!1});case 14:case"end":return t.stop()}}),null,null,[[0,11]],Promise)},children:Object(h.jsx)(P.default,{style:K.textButton,children:"Connexion"})}),m.length>0&&m.some((function(e){return 2!==e.errorCode&&3!==e.errorCode}))?Object(h.jsx)(P.default,{style:K.errorText,children:m[0].message}):null]})]})},G=k.default.create({main:{flex:1,justifyContent:"center",backgroundColor:"#EEEFF5"},textInput:{marginBottom:10,fontSize:18},input:{borderColor:"black",borderWidth:2,marginBottom:10,fontSize:30,padding:5,backgroundColor:"white",borderRadius:10},inputContainer:{paddingHorizontal:30},button:{backgroundColor:"#083D77",padding:20,borderRadius:50,marginTop:20},buttonText:{fontSize:20,color:"white",textAlign:"center"},buttonContaier:{paddingHorizontal:60},textValidation:{textAlign:"center",marginTop:20,padding:10,color:"green"}}),Q=function(){var e=Object(r.useState)(""),t=u()(e,2),n=t[0],i=t[1],c=Object(r.useState)(!1),a=u()(c,2),o=a[0],s=a[1];return Object(h.jsxs)(S.default,{style:G.main,children:[Object(h.jsxs)(C.default,{style:G.inputContainer,children:[Object(h.jsx)(P.default,{style:G.textInput,children:"Rentrez votre mail ici : "}),Object(h.jsx)(T.default,{value:n,style:G.input,onChangeText:i,textContentType:"emailAddress"})]}),Object(h.jsx)(C.default,{style:G.buttonContaier,children:Object(h.jsx)(E.default,{onPress:function(){return s(!0)},children:Object(h.jsx)(C.default,{style:G.button,children:Object(h.jsx)(P.default,{style:G.buttonText,children:"Envoyer"})})})}),o?Object(h.jsx)(P.default,{style:G.textValidation,children:"Un lien pour r\xe9initialiser votre mot de passe vous a \xe9t\xe9 envoy\xe9"}):null]})},X=Object(s.default)(),Y=function(){return Object(h.jsxs)(X.Navigator,{screenOptions:{headerShown:!1,headerStyle:{backgroundColor:"#083D77"},headerTintColor:"#EFEFEF"},children:[Object(h.jsx)(X.Screen,{name:"Login",component:q}),Object(h.jsx)(X.Screen,{name:"Reset Password",component:Q,options:{headerShown:!0}})]})},Z=n(3),$=n.n(Z),ee=n(2),te=n(100),ne=n(62),re=ee.default.TouchableOpacity(A||(A=$()(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: row;\n  border: 1px solid rgba(31, 19, 0, 0.3);\n  padding: 10px 20px;\n  background: #fdfdff;\n"]))),ie=ee.default.Text(N||(N=$()(["\n  font-size: 20px;\n  font-weight: 500;\n  color: rgba(31, 19, 0, 0.6);\n"]))),ce=function(e){var t=e.text,n=e.action;return Object(h.jsxs)(re,{onPress:n,children:[Object(h.jsx)(ie,{children:t}),Object(h.jsx)(ne.default,{name:"plus",size:25,color:"rgba(31, 19, 0, 0.6)"})]})},ae=ee.default.View(L||(L=$()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]))),oe=ee.default.TouchableOpacity(D||(D=$()(["\n  border: 1px solid #ff4d42;\n  width: 49%;\n  padding: 2%;\n  border-radius: 5px;\n"]))),se=ee.default.Text(F||(F=$()(["\n  font-size: 18px;\n  text-align: center;\n  color: #ff4d42;\n  font-weight: 500;\n"]))),le=ee.default.TouchableOpacity(I||(I=$()(["\n  border: ","\n  width: 49%;\n  padding: 2%;\n  border-radius: 5px;\n"])),(function(e){return e.isClickable?"1px solid #083d77":"1px solid rgba(31, 19, 0, 0.3)"})),ue=ee.default.Text(R||(R=$()(["\n  font-size: 18px;\n  text-align: center;\n  color: ","\n  font-weight: 500;\n"])),(function(e){return e.isClickable?"#083d77":"rgba(31, 19, 0, 0.3)"})),de=function(e){var t=e.textLeft,n=e.textRight,r=e.actionLeft,i=e.actionRight,c=e.righIsClickable;return Object(h.jsxs)(ae,{children:[Object(h.jsx)(oe,{onPress:r,children:Object(h.jsx)(se,{children:t})}),Object(h.jsx)(le,{onPress:i,isClickable:c,activeOpacity:c?.2:1,children:Object(h.jsx)(ue,{isClickable:c,children:n})})]})},fe=n(220);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe,xe,he,Oe,ge,me,we,ye,ve,Ce,Pe,Se,Te,ke,Ee,Ve,ze,Ae,Ne,Le,De,Fe,Ie,Re,Be=ee.default.View(B||(B=$()(["\n  background: #fdfdff;\n  border: 1px solid rgba(31, 19, 0, 0.3);\n  padding: 10px 20px;\n  margin: 1% 0;\n"]))),_e=ee.default.TouchableOpacity(_||(_=$()(["\n  align-self: flex-end;\n"]))),Me=ee.default.TextInput(M||(M=$()(["\n  margin: 2% 0;\n  font-size: 15px;\n  border: 1px solid #1f1300;\n  padding: 2% 5%;\n  font-weight: 600;\n  border-radius: 5px;\n"]))),Ue=ee.default.TextInput(U||(U=$()(["\n  font-size: 15px;\n  border: 1px solid #1f1300;\n  border-radius: 5px;\n  padding: 2% 5%;\n"]))),He=ee.default.Text(H||(H=$()(["\n  margin-bottom: 5px;\n  font-weight: 600;\n  font-size: 15px;\n"]))),We=ee.default.View(W||(W=$()([""]))),Je=ee.default.View(J||(J=$()(["\n  margin: 2% 0;\n"]))),Ke=function(e){var t=e.option,n=e.setOptionList,i=e.optionList,c=e.setAddButtonIsPressed,a=e.packId,o=Object(r.useContext)(w).user,s=Object(r.useState)({content:t?t.content:null,price_ht:t?t.price_ht:null,price_ttc:t?t.price_ttc:null,user_id:o.id,pack_id:a}),l=u()(s,2),d=l[0],f=l[1];return Object(h.jsxs)(Be,{children:[Object(h.jsx)(_e,{onPress:function(){t?b.delete("/api/options/"+t.id).then((function(e){return e.data})).then((function(e){return n(i.filter((function(t){return t.id!==e.id})))})):c(!1)},children:Object(h.jsx)(fe.default,{name:"cross",size:30,color:"rgba(31, 19, 0, 0.3)"})}),Object(h.jsx)(He,{children:"Nom de l'option"}),Object(h.jsx)(Me,{placeholder:"Nom de l'option",onChangeText:function(e){return f(be(be({},d),{},{content:e}))},value:d.content}),Object(h.jsxs)(We,{children:[t&&Object(h.jsxs)(Je,{children:[Object(h.jsx)(He,{children:"Prix TTC"}),Object(h.jsx)(Ue,{placeholder:"Prix TTC de l'option",value:d.price_ttc})]}),Object(h.jsxs)(Je,{children:[Object(h.jsx)(He,{children:"Prix HT"}),Object(h.jsx)(Ue,{placeholder:"Prix HT de l'option",onChangeText:function(e){return f(be(be({},d),{},{price_ht:e}))},value:d.price_ht})]}),Object(h.jsx)(de,{textLeft:"Annuler",textRight:t?"Modifier":"Cr\xe9er",actionLeft:function(){return c(!1)},actionRight:function(){return t?void b.put("/api/options/"+t.id,{content:d.content,price_ht:parseFloat(d.price_ht),user_id:o.id}).then((function(e){return e.data})).then((function(e){return f(be(be({},d),e))})):void(d.content?d.price_ht?b.post("/api/options",{pack_id:d.pack_id,price_ht:parseFloat(d.price_ht),content:d.content,user_id:d.user_id}).then((function(e){n(i.concat(e.data)),c(!1)})).catch((function(e){return console.error(e)})):x("Merci de rentrer un prix"):x("Merci de rentrer un nom d'option"))},righIsClickable:!0})]})]})},qe=ee.default.View(pe||(pe=$()([""]))),Ge=ee.default.Text(xe||(xe=$()(["\n  text-align: center;\n  font-size: 18px;\n"]))),Qe=ee.default.View(he||(he=$()([""]))),Xe=function(e){var t=e.pack,n=Object(r.useState)([]),i=u()(n,2),c=i[0],a=i[1],o=Object(r.useState)(!1),s=u()(o,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){b.get("/api/packs/"+t.id).then((function(e){return e.data})).then((function(e){return a(e.option)})).catch((function(e){return x(e)}))}),[]),Object(h.jsxs)(qe,{children:[Object(h.jsx)(Ge,{children:"Liste des options"}),Object(h.jsx)(Qe,{children:c&&c.map((function(e){return Object(h.jsx)(Ke,{option:e,packId:t.id,optionList:c,setOptionList:a,setAddButtonIsPressed:d},e.id)}))}),l?Object(h.jsx)(Ke,{setAddButtonIsPressed:d,optionList:c,packId:t.id,setOptionList:a}):Object(h.jsx)(ce,{text:"Ajouter une option",action:function(){return d(!0)}})]})},Ye=ee.default.View(Oe||(Oe=$()(["\n  background: #fdfdff;\n  border: 1px solid #1f1300;\n  padding: 10px 20px;\n  margin: 1% 0;\n"]))),Ze=ee.default.View(ge||(ge=$()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),$e=ee.default.TouchableOpacity(me||(me=$()(["\n  display: flex;\n  flex-direction: row;\n"]))),et=ee.default.TouchableOpacity(we||(we=$()([""]))),tt=ee.default.Text(ye||(ye=$()(["\n  font-size: 20px;\n"]))),nt=ee.default.View(ve||(ve=$()([""]))),rt=function(e){var t=e.pack,n=e.setList,i=e.list,c=Object(r.useState)(!1),a=u()(c,2),o=a[0],s=a[1];return Object(h.jsxs)(Ye,{children:[Object(h.jsxs)(Ze,{children:[Object(h.jsxs)($e,{onPress:function(){return s(!o)},children:[Object(h.jsx)(tt,{children:t.name}),Object(h.jsx)(te.default,{name:o?"chevron-up":"chevron-down",size:25})]}),Object(h.jsx)(et,{onPress:function(){b.delete("/api/packs/"+t.id).then((function(e){return e.data})).then((function(e){return n(i.filter((function(t){return t.id!==e.id})))})).catch((function(e){return x(e)}))},children:Object(h.jsx)(te.default,{name:"trash",size:25,color:"red"})})]}),o?Object(h.jsx)(nt,{children:Object(h.jsx)(Xe,{pack:t})}):null]})},it=ee.default.View(Ce||(Ce=$()([""]))),ct=ee.default.TextInput(Pe||(Pe=$()(["\n  padding: 3%;\n  border: 1px solid black;\n  border-radius: 5px;\n  font-size: 18px;\n  width: 85%;\n"]))),at=ee.default.View(Se||(Se=$()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n"]))),ot=ee.default.TouchableOpacity(Te||(Te=$()(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 10%;\n  padding: 1%;\n  border: 1px solid black;\n  border-radius: 5px;\n"]))),st=function(e){var t=e.list,n=e.setList,i=Object(r.useContext)(w).user,c=Object(r.useState)(!1),a=u()(c,2),o=a[0],s=a[1],l=Object(r.useState)(null),d=u()(l,2),f=d[0],j=d[1];return Object(h.jsxs)(it,{children:[t&&t.map((function(e){return Object(h.jsx)(rt,{pack:e,setList:n,list:t},e.id)})),o?Object(h.jsxs)(at,{children:[Object(h.jsx)(ct,{onChangeText:function(e){return j(e)}}),Object(h.jsx)(ot,{onPress:function(){null!==f.length?b.post("/api/packs",{name:f,user_id:i.id}).then((function(e){return e.data})).then((function(e){n(t.concat(e)),s(!1),j(null)})).catch((function(e){return x(e)})):s(!1)},children:Object(h.jsx)(ne.default,{name:"check",size:30})})]}):Object(h.jsx)(ce,{text:"Ajouter un pack",action:function(){s(!0)}})]})},lt=ee.default.View(ke||(ke=$()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),ut=ee.default.TouchableOpacity(Ee||(Ee=$()(["\n  width: 45%;\n  border: 1px solid black;\n  padding: 3%;\n  background: ",";\n  border-radius: 5px;\n"])),(function(e){return e.isActive?"#083D77":"#EFEFEF"})),dt=ee.default.Text(Ve||(Ve=$()(["\n  font-size: 18px;\n  text-align: center;\n  font-weight: 500;\n  color: ",";\n"])),(function(e){return e.isActive?"#EFEFEF":"#1F1300"})),ft=function(e){var t=e.actionLeft,n=e.actionRight,i=e.textLeft,c=e.textRight,a=Object(r.useState)(!1),o=u()(a,2),s=o[0],l=o[1],d=Object(r.useState)(!1),f=u()(d,2),j=f[0],b=f[1];return Object(h.jsxs)(lt,{children:[Object(h.jsx)(ut,{onPress:function(){t(),l(!0),b(!1)},isActive:s,children:Object(h.jsx)(dt,{isActive:s,children:i})}),Object(h.jsx)(ut,{onPress:function(){n(),b(!0),l(!1)},isActive:j,children:Object(h.jsx)(dt,{isActive:j,children:c})})]})};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt,xt,ht,Ot,gt,mt,wt,yt,vt,Ct,Pt,St,Tt=ee.default.View(ze||(ze=$()(["\n  border: 1px solid #1f1300;\n  padding: 5% 5%;\n  background: #fdfdff;\n  width: 100%;\n  border-radius: 5px;\n  margin-bottom: ",";\n"])),(function(e){return e.isFocus?"60%":"0"})),kt=ee.default.View(Ae||(Ae=$()(["\n  display: flex;\n  align-items: center;\n  margin-top: 10%;\n"]))),Et=ee.default.View(Ne||(Ne=$()(["\n  width: 100%;\n  padding: 3%;\n"]))),Vt=ee.default.TextInput(Le||(Le=$()(["\n  border-bottom-width: 1px;\n  border-bottom-color: #1f1300;\n  font-size: 18px;\n  padding: 2%;\n  margin-top: 1%;\n"]))),zt=ee.default.Text(De||(De=$()(["\n  font-size: 18px;\n"]))),At=ee.default.Text(Fe||(Fe=$()(["\n  margin-right: 10%;\n  font-size: 18px;\n"]))),Nt=ee.default.TouchableOpacity(Ie||(Ie=$()(["\n  display: flex;\n  flex-direction: row;\n  align-self: center;\n  align-items: center;\n"]))),Lt=ee.default.View(Re||(Re=$()([""]))),Dt=function(e){var t=e.formStyle,n=e.customer,i=e.setCustomer,a=Object(r.useState)({}),o=u()(a,2),s=o[0],l=o[1],d=Object(r.useState)(!1),f=u()(d,2),j=f[0],b=f[1],p=Object(r.useState)(!0),x=u()(p,2),O=x[0],g=x[1];return Object(r.useEffect)((function(){l("ESTIMATE"===t?{firstname:"Pr\xe9nom de l'interlocuteur :",lastname:"Nom de l'interlocuteur :",mail:"Mail de l'interlocuteur :",phone:"Num\xe9ro de t\xe9l\xe9phone : ",company:"Nom de l'entreprise :"}:{firstname:"Pr\xe9nom de l'interlocuteur :",lastname:"Nom de l'interlocuteur :",phone:"Num\xe9ro de t\xe9l\xe9phone : ",mail:"Mail de l'interlocuteur :",company:"Nom de l'entreprise :"})}),[t]),Object(h.jsxs)(Tt,{isFocus:j,children:[Object(h.jsxs)(Nt,{onPress:function(){return g(!O)},children:[Object(h.jsx)(At,{children:"Infos g\xe9n\xe9rales du devis"}),Object(h.jsx)(Lt,{children:Object(h.jsx)(te.default,{name:O?"eye-off":"eye",size:20})})]}),O?Object(h.jsx)(kt,{children:Object.entries(s).map((function(e){var t=u()(e,2),r=t[0],a=t[1];return Object(h.jsxs)(Et,{children:[Object(h.jsx)(zt,{children:a}),Object(h.jsx)(Vt,{onFocus:function(){return b(!0)},onEndEditing:function(){return b(!1)},value:n[r],onChangeText:function(e){return i(bt(bt({},n),{},c()({},r,e)))}})]},r)}))}):null]})},Ft=ee.default.TouchableOpacity(pt||(pt=$()(["\n  padding: 10px 20px;\n  border: ",";\n  display: flex;\n  align-items: center;\n  border-radius: 5px;\n"])),(function(e){return e.isActif?"2px solid rgba(8, 61, 119, 1)":"2px solid rgba(31, 19, 0, 0.3)"})),It=ee.default.Text(xt||(xt=$()(["\n  font-size: 20px;\n  font-weight: bold;\n  color: ",";\n"])),(function(e){return e.isActif?"2px solid rgba(8, 61, 119, 1)":"2px solid rgba(31, 19, 0, 0.3)"})),Rt=function(e){var t=e.text,n=e.isActif,r=e.action;return Object(h.jsx)(Ft,{isActif:n,activeOpacity:n?.2:1,onPress:n?r:null,children:Object(h.jsx)(It,{isActif:n,children:t})})};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt,Ut,Ht,Wt,Jt,Kt,qt,Gt,Qt,Xt,Yt,Zt,$t,en,tn,nn,rn=ee.default.ScrollView(ht||(ht=$()(["\n  background: #eeeff5;\n  height: 100%;\n"]))),cn=ee.default.View(Ot||(Ot=$()(["\n  display: flex;\n  align-items: center;\n"]))),an=ee.default.View(gt||(gt=$()(["\n  width: 90%;\n  margin-top: 10%;\n"]))),on=ee.default.View(mt||(mt=$()(["\n  margin-top: 5%;\n  width: 90%;\n"]))),sn=ee.default.View(wt||(wt=$()(["\n  width: 90%;\n  margin-top: 5%;\n"]))),ln=ee.default.Text(yt||(yt=$()(["\n  font-size: 18px;\n  font-weight: bold;\n  margin-bottom: 3%;\n  text-align: center;\n"]))),un=ee.default.View(vt||(vt=$()(["\n  width: 90%;\n  margin: 5% 0 15% 0;\n  align-self: center;\n"]))),dn=ee.default.View(Ct||(Ct=$()(["\n  display: flex;\n  flex-direction: row;\n  width: 80%;\n  align-self: center;\n  justify-content: space-between;\n  margin-bottom: 10%;\n"]))),fn=ee.default.View(Pt||(Pt=$()(["\n  width: 90%;\n"]))),jn=ee.default.TextInput(St||(St=$()(["\n  margin: 2% 0;\n  font-size: 15px;\n  border: 1px solid rgba(31, 19, 0, 0.3);\n  background: #fdfdff;\n  padding: 2% 5%;\n  font-weight: 600;\n  border-radius: 5px;\n"]))),bn=function(e){var t=e.route,n=Object(r.useContext)(w).user,i=Object(r.useState)(null),c=u()(i,2),a=c[0],o=c[1],s=Object(r.useState)(!1),l=u()(s,2),d=l[0],j=l[1],p=Object(r.useState)([]),O=u()(p,2),g=O[0],m=O[1],y=Object(r.useState)({type:t.params?t.params.file.type:null,user_id:n.id,reduction:t.params?t.params.file.reduction:null,pack:{connect:[]}}),v=u()(y,2),C=v[0],P=v[1],S=Object(r.useState)({firstname:null,lastname:null,company:null,phone:null,mail:null}),T=u()(S,2),k=T[0],E=T[1],V=Object(r.useState)(!1),z=u()(V,2),A=z[0],N=z[1],L=Object(r.useState)(""),D=u()(L,2),F=D[0],I=D[1];Object(r.useEffect)((function(){if(t.params){var e=t.params.file;P(e),m(e.pack),o("estimate"===e.type?"ESTIMATE":"BILL"),E(e.customer),N(!0),I("UPDATE")}else I("CREATE")}),[t.params]),Object(r.useEffect)((function(){var e=g.map((function(e){return'{"id" : '+e.id+"}"})).map((function(e){return JSON.parse(e)}));P(_t(_t({},C),{},{pack:{connect:e}}))}),[g]),console.log(C),Object(r.useEffect)((function(){("CREATE"===F&&null!==k.firstname&&null!==k.lastname&&null!==k.company&&null!==k.phone&&null!==k.mail&&g.length>0||"UPDATE"===F)&&j(!0)}),[F,k.company,k.firstname,k.lastname,k.mail,k.phone,g.length]);return Object(h.jsxs)(rn,{children:[Object(h.jsxs)(cn,{children:[Object(h.jsx)(on,{children:Object(h.jsx)(ft,{textLeft:"Devis",textRight:"Facture",actionLeft:function(){o("ESTIMATE"),P(_t(_t({},C),{},{type:"estimate"}))},actionRight:function(){o("BILL"),P(_t(_t({},C),{},{type:"bill"}))}})}),Object(h.jsx)(an,{children:a&&Object(h.jsx)(Dt,{formStyle:a,customer:k,setCustomer:E})}),Object(h.jsxs)(sn,{children:[Object(h.jsx)(ln,{children:"Liste des pack"}),Object(h.jsx)(st,{list:g,setList:m})]}),Object(h.jsx)(fn,{children:Object(h.jsx)(jn,{placeholder:"Ajouter une r\xe9duction",onChangeText:function(e){return P(_t(_t({},C),{},{reduction:e}))},value:0!==C.reduction?C.reduction:null})})]}),Object(h.jsx)(un,{children:Object(h.jsx)(Rt,{text:"CREATE"===F?"Cr\xe9er":"Modifier",isActif:d,action:"CREATE"===F?function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(b.post("/api/customers",k));case 3:if(!(e=t.sent).data){t.next=11;break}return t.next=7,f.a.awrap(b.post("/api/files",_t(_t({},C),{},{customer_id:e.data.id})));case 7:t.sent||x("Une erreur s'est produite lors de la cr\xe9ation du fichier"),t.next=12;break;case 11:x("Une erreur s'est produite ");case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),x(t.t0);case 17:N(!0);case 18:case"end":return t.stop()}}),null,null,[[0,14]],Promise)}:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:try{b.put("api/files/"+t.params.file.id,_t(_t({},C),{},{reduction:parseFloat(C.reduction)}))?N(!0):x("Une erreur est survenue, merci de r\xe9essayer")}catch(n){x(n)}case 1:case"end":return e.stop()}}),null,null,null,Promise)}})}),A&&!C.price?Object(h.jsxs)(dn,{children:[Object(h.jsx)(Rt,{text:"Partager",isActif:!0}),Object(h.jsx)(Rt,{text:"Voir",isActif:!0})]}):null]})},pn=n(74),xn=n(18),hn=n(217),On=ee.default.View(Mt||(Mt=$()(["\n  box-shadow: 0px 0px 2px rgba(255, 255, 255, 1);\n"]))),gn=ee.default.View(Ut||(Ut=$()(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5% 3%;\n  background: #f092ff;\n"]))),mn=ee.default.TouchableOpacity(Ht||(Ht=$()(["\n  width: 50%;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),wn=ee.default.View(Wt||(Wt=$()([""]))),yn=ee.default.Text(Jt||(Jt=$()(["\n  font-size: 18px;\n  font-weight: 400;\n"]))),vn=ee.default.View(Kt||(Kt=$()(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-width: 1px;\n  padding: 10px 0;\n  border-bottom-color: rgba(31, 19, 0, 0.3);\n"]))),Cn=ee.default.Text(qt||(qt=$()(["\n  font-size: 18px;\n  font-weight: 600;\n"]))),Pn=ee.default.TouchableOpacity(Gt||(Gt=$()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Sn=ee.default.View(Qt||(Qt=$()(["\n  background: #fdfdff;\n  padding: 5% 3%;\n  border-bottom-width: 1px;\n  border-bottom-color: rgba(31, 19, 0, 0.3);\n"]))),Tn=ee.default.View(Xt||(Xt=$()(["\n  display: flex;\n  margin-top: 2%;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),kn=ee.default.TouchableOpacity(Yt||(Yt=$()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n  border: 1px solid #083d77;\n  padding: 3%;\n  border-radius: 3px;\n"]))),En=ee.default.Text(Zt||(Zt=$()(["\n  font-size: 16px;\n  font-weight: 600;\n  color: #083d77;\n"]))),Vn=function(e){var t=e.file,n=e.estimateList,i=e.setEstimateList,c=Object(xn.useNavigation)(),a=t.customer,o=Object(r.useState)(!1),s=u()(o,2),l=s[0],d=s[1];return Object(h.jsxs)(On,{children:[Object(h.jsxs)(gn,{children:[Object(h.jsxs)(mn,{onPress:function(){return d(!l)},children:[Object(h.jsxs)(yn,{children:[a.company," "]}),Object(h.jsx)(wn,{children:l?Object(h.jsx)(ne.default,{name:"down",size:20}):Object(h.jsx)(ne.default,{name:"right",size:20})})]}),Object(h.jsx)(Pn,{onPress:function(){b.delete("/api/files/"+t.id).then((function(e){return e.data})).then((function(e){return i(n.filter((function(t){return t.id!==e.id})))})).catch((function(e){return console.error(e)}))},children:Object(h.jsx)(ne.default,{name:"delete",size:20})})]}),l&&Object(h.jsxs)(Sn,{children:[Object(h.jsxs)(vn,{children:[Object(h.jsx)(Cn,{children:"Type :"}),Object(h.jsx)(yn,{children:"estimate"===t.type?"Devis":"Facture"})]}),Object(h.jsxs)(vn,{children:[Object(h.jsx)(Cn,{children:"Prix total :"}),Object(h.jsxs)(yn,{children:[t.price_ht," \u20ac / HT"]}),Object(h.jsx)(Cn,{children:"Nom du client :"}),Object(h.jsx)(yn,{children:a.firstname+" "+a.lastname})]}),Object(h.jsxs)(vn,{children:[Object(h.jsx)(Cn,{children:"Mail du client :"}),Object(h.jsx)(yn,{children:a.mail})]}),Object(h.jsxs)(vn,{children:[Object(h.jsx)(Cn,{children:"Num\xe9ro du client :"}),Object(h.jsx)(yn,{children:a.phone})]}),Object(h.jsxs)(Tn,{children:[Object(h.jsx)(kn,{onPress:function(){return c.navigate("Cr\xe9ation de devis",{file:t})},children:Object(h.jsx)(En,{children:"Modifier"})}),Object(h.jsx)(kn,{onPress:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(b.post("/upload-pdf",t));case 2:return e.next=4,f.a.awrap(hn.openBrowserAsync("http://172.20.10.2:5001/test.pdf"));case 4:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(h.jsx)(En,{children:"Voir"})}),Object(h.jsx)(kn,{children:Object(h.jsx)(En,{children:"Envoyer"})})]})]})]})},zn=ee.default.View($t||($t=$()([""]))),An=function(e){var t=e.estimateList,n=e.setEstimateList;return Object(h.jsx)(zn,{children:t.length>0?t.map((function(e,r){return Object(h.jsx)(Vn,{file:e,setEstimateList:n,estimateList:t},r)})):null})},Nn=n(37);ee.default;var Ln,Dn,Fn,In,Rn,Bn,_n,Mn,Un,Hn,Wn,Jn,Kn,qn,Gn,Qn,Xn,Yn,Zn,$n,er,tr,nr,rr,ir,cr,ar,or,sr,lr,ur,dr,fr,jr,br,pr,xr,hr,Or,gr,mr,wr,yr=ee.default.View(en||(en=$()(["\n  background: #fdfdff;\n  border: 1px solid black;\n  border-radius: 30px;\n  padding: 10px 20px;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n"]))),vr=ee.default.TextInput(tn||(tn=$()(["\n  font-size: 18px;\n  width: 90%;\n"]))),Cr=ee.default.View(nn||(nn=$()(["\n  width: 10%;\n  display: flex;\n  align-items: flex-end;\n"]))),Pr=function(e){var t=e.value,n=e.setValue;return Object(h.jsxs)(yr,{children:[Object(h.jsx)(vr,{placeholder:"Rechercher",value:t,onChangeText:n}),Object(h.jsx)(Cr,{children:Object(h.jsx)(Nn.default,{name:"search",size:30,color:"#8c8787"})})]})},Sr=ee.default.SafeAreaView(Ln||(Ln=$()([""]))),Tr=ee.default.ScrollView(Dn||(Dn=$()([""]))),kr=ee.default.Text(Fn||(Fn=$()(["\n  font-size: 18px;\n"]))),Er=ee.default.Text(In||(In=$()(["\n  font-size: 20px;\n  font-weight: 500;\n  color: #083d77;\n"]))),Vr=ee.default.View(Rn||(Rn=$()(["\n  display: flex;\n  align-items: center;\n"]))),zr=ee.default.TouchableOpacity(Bn||(Bn=$()(["\n  margin-top: 3%;\n"]))),Ar=ee.default.View(_n||(_n=$()(["\n  display: flex;\n  align-items: center;\n  margin-top: 10%;\n"]))),Nr=ee.default.View(Mn||(Mn=$()(["\n  width: 90%;\n"]))),Lr=ee.default.View(Un||(Un=$()(["\n  width: 100%;\n  ","\n  margin: 5% 0;\n  display: flex;\n  align-items: center;\n"])),""),Dr=function(){var e=Object(xn.useNavigation)(),t=Object(r.useState)([]),n=u()(t,2),i=n[0],c=n[1],a=Object(r.useState)(!1),o=u()(a,2),s=o[0],l=o[1],d=Object(r.useState)(""),j=u()(d,2),p=j[0],x=j[1],O=Object(r.useCallback)((function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(b.get("/api/files").then((function(e){return e.data})).then((function(e){c(""!==p?e.filter((function(e){return e.customer.company.includes(p.toLowerCase())||e.customer.company.includes(p.toUpperCase())})):e)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[p]);Object(r.useEffect)((function(){O()}),[O]);var g=Object(r.useCallback)((function(){l(!0),O(),l(!1)}),[]);return Object(h.jsx)(Sr,{children:Object(h.jsxs)(Tr,{refreshControl:Object(h.jsx)(pn.default,{refreshing:s,onRefresh:g}),children:[Object(h.jsx)(Lr,{children:Object(h.jsx)(Nr,{children:Object(h.jsx)(Pr,{value:p,setValue:x})})}),i?Object(h.jsx)(An,{estimateList:i,setEstimateList:c}):Object(h.jsxs)(Vr,{children:[Object(h.jsx)(Ar,{children:Object(h.jsx)(kr,{children:"Il n'y a pas encore de devis effectu\xe9s"})}),Object(h.jsx)(zr,{onPress:function(){return e.navigate("Cr\xe9ation de devis")},children:Object(h.jsx)(Er,{children:"Faire un devis"})})]})]})})},Fr=n(78),Ir=ee.default.View(Hn||(Hn=$()(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px 10px;\n  border-bottom-width: 1px;\n"]))),Rr=ee.default.View(Wn||(Wn=$()(["\n  width: 20%;\n"]))),Br=ee.default.Text(Jn||(Jn=$()(["\n  align-self: flex-start;\n  font-weight: 600;\n"]))),_r=ee.default.Text(Kn||(Kn=$()(["\n  color: #ff9b42;\n  font-weight: 600;\n"]))),Mr=ee.default.Text(qn||(qn=$()(["\n  align-self: flex-start;\n  color: #8c8787;\n"]))),Ur=ee.default.View(Gn||(Gn=$()(["\n  width: 70%;\n  display: flex;\n"]))),Hr=ee.default.TouchableOpacity(Qn||(Qn=$()(["\n  width: 30%;\n"]))),Wr=function(e){var t=e.user,n=e.iconName,r=Object(xn.useNavigation)();return Object(h.jsxs)(Ir,{children:[Object(h.jsx)(Rr,{children:Object(h.jsx)(Nn.default,{name:n,size:50})}),Object(h.jsxs)(Ur,{children:[Object(h.jsxs)(Br,{children:[t.firstName," ",t.lastName]}),Object(h.jsx)(Mr,{children:t.Role.Name}),Object(h.jsx)(_r,{children:0===t._count.Estimate?"Pas encore de devis effectu\xe9":t._count.Estimate+" devis effectu\xe9s"})]}),Object(h.jsx)(Hr,{onPress:function(){return r.push("Utilisateur admin view",{user:t})},children:Object(h.jsx)(Nn.default,{name:"ellipsis-h",size:30})})]})},Jr=ee.default.View(Xn||(Xn=$()(["\n  border-top-width: 1px;\n"]))),Kr=ee.default.Text(Yn||(Yn=$()([""]))),qr=function(e){var t=e.elems;return void 0!==t[0]?Object(h.jsx)(Jr,{children:Object(h.jsx)(Fr.default,{data:t,renderItem:function(e){var t=e.item;return Object(h.jsx)(Wr,{user:t,iconName:"user"})},keyExtractor:function(e){return e.id},horizontal:"false"})}):Object(h.jsx)(Kr,{children:"Il n'y a pas de donn\xe9es \xe0 afficher"})},Gr=ee.default.SafeAreaView(Zn||(Zn=$()(["\n  background: #eeeff5;\n  height: 100%;\n  display: flex;\n  width: 100%;\n  align-items: center;\n"]))),Qr=ee.default.View($n||($n=$()(["\n  align-self: center;\n  width: 70%;\n  margin-top: 5%;\n"]))),Xr=ee.default.View(er||(er=$()(["\n  height: 70%;\n  width: 100%;\n  border-bottom-width: 1px;\n"]))),Yr=ee.default.View(tr||(tr=$()(["\n  width: 80%;\n  margin: 5% 0;\n"]))),Zr=function(){var e=Object(xn.useNavigation)(),t=Object(r.useState)([]),n=u()(t,2),i=n[0],c=n[1],a=Object(r.useState)(""),o=u()(a,2),s=o[0],l=o[1];return Object(r.useEffect)((function(){b.get("/api/users").then((function(e){return e.data})).then((function(e){c(""!==s?e.filter((function(e){return e.firstName.includes(s.toLowerCase())||e.firstName.includes(s.toUpperCase())||e.lastName.includes(s.toLowerCase())||e.lastName.includes(s.toUpperCase())})):e)})).catch((function(e){return x(e)}))}),[s]),Object(h.jsxs)(Gr,{children:[Object(h.jsx)(Yr,{children:Object(h.jsx)(Pr,{value:s,setValue:l})}),Object(h.jsxs)(Xr,{children:[Object(h.jsx)(qr,{elems:i}),Object(h.jsx)(Qr,{children:Object(h.jsx)(ce,{text:"Ajouter un utilisateur",action:function(){return e.navigate("Cr\xe9ation utilisateur")}})})]})]})},$r=ee.default.View(nr||(nr=$()(["\n  display: flex;\n  align-items: center;\n  margin-top: 5%;\n  background: #eeeff5;\n"]))),ei=ee.default.View(rr||(rr=$()(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 3px solid #1f1300;\n  border-radius: 100%;\n  width: 150px;\n  height: 150px;\n  background-color: #fdfdff;\n"]))),ti=ee.default.View(ir||(ir=$()(["\n  margin-top: 2%;\n  display: flex;\n  align-items: center;\n"]))),ni=ee.default.Text(cr||(cr=$()(["\n  font-size: 20px;\n  font-weight: 600;\n"]))),ri=function(e){var t,n=e.user,r=n.mail,i=n.firstName,c=n.lastName,a=n.role_id,o=i+" "+c;return a&&1===a&&(t="Admin"),Object(h.jsxs)($r,{children:[Object(h.jsx)(ei,{children:Object(h.jsx)(Nn.default,{name:"user",size:120,color:"#1f1300"})}),Object(h.jsxs)(ti,{children:[Object(h.jsx)(ni,{children:r}),Object(h.jsx)(P.default,{children:o.toUpperCase()}),Object(h.jsx)(P.default,{children:t})]})]})},ii=ee.default.TouchableOpacity(ar||(ar=$()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 0;\n"]))),ci=ee.default.Text(or||(or=$()(["\n  font-size: 20px;\n"]))),ai=ee.default.View(sr||(sr=$()(["\n  width: 90%;\n  border-bottom-width: 2px;\n  border-bottom-color: lightgrey;\n"]))),oi=function(e){var t=e.title,n=e.link,r=(e.autorisedRole,Object(xn.useNavigation)());return Object(h.jsx)(ai,{children:Object(h.jsxs)(ii,{onPress:function(){return r.navigate(n)},children:[Object(h.jsx)(ci,{children:t}),Object(h.jsx)(Nn.default,{name:"chevron-right",size:25,color:"#A8A39A"})]})})},si=ee.default.View(lr||(lr=$()(["\n  padding: 5% 0 5% 5%;\n  display: flex;\n  align-items: center;\n  border: 1px solid black;\n  width: 90%;\n  height: 50%;\n  align-self: center;\n  border-radius: 10px;\n  background: #fdfdff;\n  margin-top: 5%;\n"]))),li=function(e){var t=e.parameters;return Object(h.jsx)(si,{children:t.length>0?t.map((function(e,t){return Object(h.jsx)(oi,{title:e.title,link:e.link,autorisedRole:e.autorisedRole},t)})):null})},ui=ee.default.TouchableOpacity(ur||(ur=$()(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: row;\n  border: 1px solid #ff4d42;\n  padding: 20%;\n  background: #fdfdff;\n  border-radius: 5px;\n"]))),di=ee.default.Text(dr||(dr=$()(["\n  font-size: 20px;\n  font-weight: 500;\n  color: #ff4d42;\n"]))),fi=function(e){var t=e.text,n=e.action;e.isActif;return Object(h.jsxs)(ui,{onPress:n,children:[t&&Object(h.jsx)(di,{children:t}),Object(h.jsx)(Nn.default,{name:"trash",size:25,color:"#ff4d42"})]})},ji=[{id:1,title:"Modifier le mot de passe",link:"Changement du mot de passe"},{id:2,title:"Modifier l'adresse mail",link:"Changement du mail"}],bi=ee.default.SafeAreaView(fr||(fr=$()(["\n  background: #eeeff5;\n  height: 100%;\n  display: flex;\n  align-items: center;\n"]))),pi=ee.default.View(jr||(jr=$()(["\n  width: 50%;\n  margin-top: 10%;\n"]))),xi=function(e){var t=e.route,n=(Object(xn.useNavigation)(),t.params.user);return Object(h.jsxs)(bi,{children:[Object(h.jsx)(ri,{user:n}),Object(h.jsx)(li,{parameters:ji}),Object(h.jsx)(pi,{children:Object(h.jsx)(fi,{text:"Supprimer",action:function(){p.default.alert("Suppression d'un utilisateur","Vous \xeates sur le point de supprimer un utilisateur, voulez-vous continuer ?",[{text:"Annuler",onPress:function(){return p.default.alert("L'utilisateur n'a pas \xe9t\xe9 supprim\xe9")},style:"cancel"},{text:"Continuer"}])}})})]})},hi=ee.default.TouchableOpacity(br||(br=$()(["\n  background: ",";\n  width: 100%;\n  height: 100%;\n  padding: 15px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 4px 5px 5px rgba(31, 19, 0, 0.5);\n"])),(function(e){return e.isClickable?e.style.colorActive:e.style.colorInactive})),Oi=ee.default.Text(pr||(pr=$()(["\n  font-size: 20px;\n  font-weight: 600;\n  color: ",";\n"])),(function(e){return e.isClickable?"#EFEFEF":"#1F1300"})),gi=function(e){var t=e.text,n=e.action,r=e.isClickable,i=e.style;return Object(h.jsx)(hi,{isClickable:r,onPress:r?n:null,activeOpacity:r?.2:1,style:i,children:Object(h.jsx)(Oi,{isClickable:r,children:t})})};function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yi,vi,Ci,Pi,Si,Ti,ki={button:{colorActive:"#083D77",colorInactive:"#EFEFEF"}},Ei=ee.default.View(xr||(xr=$()(["\n  height: 100%;\n  background: #eeeff5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Vi=ee.default.View(hr||(hr=$()(["\n  width: 70%;\n  margin-bottom: 6%;\n"]))),zi=ee.default.TextInput(Or||(Or=$()(["\n  font-size: 20px;\n  padding: 10px;\n  background: #fdfdff;\n  border: 2px solid black;\n  margin-top: 10px;\n"]))),Ai=ee.default.Text(gr||(gr=$()(["\n  font-size: 18px;\n  font-weight: 600;\n"]))),Ni=ee.default.Text(mr||(mr=$()(["\n  font-size: 25px;\n  font-weight: 700;\n  margin-bottom: 20%;\n  width: 60%;\n  text-align: center;\n"]))),Li=ee.default.View(wr||(wr=$()(["\n  width: 30%;\n  height: 8%;\n"]))),Di=function(){var e=Object(r.useState)({value:"",isCorrect:!0}),t=u()(e,2),n=t[0],i=t[1],c=Object(r.useState)(!1),a=u()(c,2),o=a[0],s=a[1],l=Object(r.useState)(""),d=u()(l,2),f=d[0],j=d[1],b=Object(r.useState)(""),x=u()(b,2),O=x[0],g=x[1],m=Object(r.useState)(!1),w=u()(m,2),y=w[0],v=w[1],C=y?300:0;Object(r.useEffect)((function(){o?console.log("password is input"):console.log("no password input")}),[o]);var S=Object(r.useState)(!1),T=u()(S,2),k=T[0],E=T[1];return Object(h.jsxs)(Ei,{children:[Object(h.jsx)(Ni,{children:"Changement d'adresse mail"}),Object(h.jsxs)(Vi,{children:[Object(h.jsx)(Ai,{children:"Rentrez votre adresse mail actuelle :"}),Object(h.jsx)(zi,{value:n.value,keyboardType:"email-address",onChangeText:function(e){return i(wi(wi({},n),{},{value:e}))},clearButtonMode:"while-editing",onEndEditing:function(){s(!0),!n.isCorrect&&p.default.alert("Mauvaise adresse mail","L'adresse mail rentr\xe9e n'est pas la bonne, merci d'essayer \xe0 nouveau",[{text:"ok",onPress:function(){return i(wi(wi({},n),{},{value:""}))},style:"destructive"}])}})]}),Object(h.jsxs)(Vi,{children:[Object(h.jsx)(Ai,{children:"Rentrez votre nouvelle adresse mail :"}),Object(h.jsx)(zi,{value:f,keyboardType:"email-address",onChangeText:j,editable:n.isCorrect,clearButtonMode:"while-editing"})]}),Object(h.jsxs)(Vi,{children:[Object(h.jsx)(Ai,{children:"Confirmez votre nouvelle adresse mail :"}),Object(h.jsx)(zi,{value:O,keyboardType:"email-address",onChangeText:g,style:{marginBottom:C},onFocus:function(){return v(!0)},onEndEditing:function(){v(!1),f===O&&E(!0)},editable:n.isCorrect,clearButtonMode:"while-editing"})]}),Object(h.jsx)(Li,{children:Object(h.jsx)(gi,{text:"Changer",isClickable:!0,style:ki.button})}),f&&O&&!k?Object(h.jsx)(P.default,{children:"Les adresses ne concordent pas"}):null]})};function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ri,Bi,_i,Mi,Ui,Hi={button:{colorActive:"#083D77",colorInactive:"#EFEFEF"}},Wi=ee.default.View(yi||(yi=$()(["\n  height: 100%;\n  background: #eeeff5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Ji=ee.default.View(vi||(vi=$()(["\n  width: 70%;\n  margin-bottom: 6%;\n"]))),Ki=ee.default.TextInput(Ci||(Ci=$()(["\n  font-size: 20px;\n  padding: 10px;\n  background: #fdfdff;\n  border: 2px solid black;\n  margin-top: 10px;\n"]))),qi=ee.default.Text(Pi||(Pi=$()(["\n  font-size: 18px;\n  font-weight: 600;\n"]))),Gi=ee.default.Text(Si||(Si=$()(["\n  font-size: 25px;\n  font-weight: 700;\n  margin-bottom: 20%;\n  width: 60%;\n  text-align: center;\n"]))),Qi=ee.default.View(Ti||(Ti=$()(["\n  width: 30%;\n  height: 8%;\n"]))),Xi=function(){var e=Object(r.useState)({value:"",isCorrect:!0}),t=u()(e,2),n=t[0],i=t[1],c=Object(r.useState)(!1),a=u()(c,2),o=a[0],s=a[1],l=Object(r.useState)(""),d=u()(l,2),f=d[0],j=d[1],b=Object(r.useState)(""),x=u()(b,2),O=x[0],g=x[1],m=Object(r.useState)(!1),w=u()(m,2),y=w[0],v=w[1],C=y?300:0;Object(r.useEffect)((function(){o?console.log("password is input"):console.log("no password input")}),[o]);var S=Object(r.useState)(!1),T=u()(S,2),k=T[0],E=T[1];return Object(h.jsxs)(Wi,{children:[Object(h.jsx)(Gi,{children:"Changement de mot de passe"}),Object(h.jsxs)(Ji,{children:[Object(h.jsx)(qi,{children:"Rentrez votre mot de passe :"}),Object(h.jsx)(Ki,{value:n.value,onChangeText:function(e){return i(Ii(Ii({},n),{},{value:e}))},secureTextEntry:!0,clearButtonMode:"while-editing",onEndEditing:function(){s(!0),!n.isCorrect&&p.default.alert("Mauvais mot de passe","Le mot de passe rentr\xe9 n'est pas bon, merci de le saisir \xe0 nouveau",[{text:"ok",onPress:function(){return i(Ii(Ii({},n),{},{value:""}))},style:"destructive"}])}})]}),Object(h.jsxs)(Ji,{children:[Object(h.jsx)(qi,{children:"Rentrez votre nouveau mot de passe :"}),Object(h.jsx)(Ki,{value:f,onChangeText:j,editable:n.isCorrect,clearButtonMode:"while-editing"})]}),Object(h.jsxs)(Ji,{children:[Object(h.jsx)(qi,{children:"Rentrez votre nouveau mot de passe :"}),Object(h.jsx)(Ki,{value:O,onChangeText:g,style:{marginBottom:C},onFocus:function(){return v(!0)},onEndEditing:function(){v(!1),f===O&&E(!0)},editable:n.isCorrect,clearButtonMode:"while-editing"})]}),Object(h.jsx)(Qi,{children:Object(h.jsx)(gi,{text:"Changer",isClickable:!0,style:Hi.button})}),f&&O&&!k?Object(h.jsx)(P.default,{children:"Les mots de passes ne concordent pas"}):null]})},Yi=n(9),Zi=n(88);function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tc,nc,rc,ic=ee.default.View(Ri||(Ri=$()(["\n  background: #fdfdff;\n  width: 100%;\n  height: 100%;\n  border: 1px solid #1f1300;\n  border-radius: 30px;\n  padding: 20px;\n"]))),cc=ee.default.View(Bi||(Bi=$()(["\n  border-bottom-width: 1px;\n  border-bottom-color: #8c8787;\n  height: 12%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),ac=ee.default.TextInput(_i||(_i=$()(["\n  font-size: 18px;\n  height: 70%;\n  width: 100%;\n"]))),oc=ee.default.Text(Mi||(Mi=$()(["\n  font-size: 22px;\n  text-align: center;\n"]))),sc=ee.default.View(Ui||(Ui=$()(["\n  margin-top: 10%;\n  padding: 0 10%;\n"]))),lc=function(e){var t=e.newUser,n=e.setNewUser,r=t.lastName,i=t.firstName,c=t.mail,a=t.role_id;return Object(h.jsxs)(ic,{children:[Object(h.jsx)(cc,{children:Object(h.jsx)(ac,{clearButtonMode:"while-editing",autoCorrect:!1,placeholder:"Nom",autoCapitalize:"words",placeholderTextColor:"#1f1300",value:r,onChangeText:function(e){return n(ec(ec({},t),{},{lastName:e}))}})}),Object(h.jsx)(cc,{children:Object(h.jsx)(ac,{clearButtonMode:"while-editing",autoCorrect:!1,placeholder:"Pr\xe9nom",autoCapitalize:"words",placeholderTextColor:"#1f1300",value:i,onChangeText:function(e){return n(ec(ec({},t),{},{firstName:e}))}})}),Object(h.jsx)(cc,{children:Object(h.jsx)(ac,{clearButtonMode:"while-editing",autoCorrect:!1,placeholder:"Mail",keyboardType:"email-address",autoCapitalize:"none",placeholderTextColor:"#1f1300",value:c,onChangeText:function(e){return n(ec(ec({},t),{},{mail:e}))}})}),Object(h.jsxs)(sc,{children:[Object(h.jsx)(oc,{children:"Role de l'utilisateur"}),Object(h.jsxs)(Zi.Picker,{numberOfLines:2,selectedValue:a,onValueChange:function(e,r){return n(ec(ec({},t),{},{role_id:e}))},children:[Object(h.jsx)(Zi.Picker.Item,{label:"S\xe9lectionnez un role",value:null}),Object(h.jsx)(Zi.Picker.Item,{label:"Admin",value:1}),Object(h.jsx)(Zi.Picker.Item,{label:"Commercial",value:2}),Object(h.jsx)(Zi.Picker.Item,{label:"consultant",value:3})]})]})]})};var uc,dc,fc,jc,bc,pc,xc,hc,Oc,gc,mc,wc,yc=ee.default.KeyboardAvoidingView(tc||(tc=$()(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background: #eeeff5;\n"]))),vc=ee.default.View(nc||(nc=$()(["\n  width: 80%;\n  height: 70%;\n"]))),Cc=ee.default.View(rc||(rc=$()(["\n  margin-top: 10%;\n  width: 50%;\n  height: 8%;\n"]))),Pc=function(){Object(xn.useNavigation)();var e=Object(r.useState)({mail:null,firstName:null,password:null,lastName:null,role_id:null}),t=u()(e,2),n=t[0],i=t[1],c=Object(r.useState)(!1),a=u()(c,2),o=a[0],s=a[1];Object(r.useEffect)((function(){null!==(n.firstName&&n.lastName&&n.mail&&n.role_id)?s(!0):s(!1)}),[n.firstName,n.lastName,n.mail,n.role_id]);return Object(h.jsxs)(yc,{behavior:"ios"===Yi.default.OS?"padding":"height",children:[Object(h.jsx)(vc,{children:Object(h.jsx)(lc,{newUser:n,setNewUser:i})}),Object(h.jsx)(Cc,{children:Object(h.jsx)(gi,{text:"Cr\xe9er",isClickable:o})})]})},Sc=n(318),Tc=ee.default.TouchableOpacity(uc||(uc=$()(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background: #fdfdff;\n  padding: 10px;\n  margin-bottom: 5%;\n  border: 1px solid rgba(8, 61, 119, 1);\n  border-radius: 10px;\n"]))),kc=ee.default.View(dc||(dc=$()(["\n  width: 20%;\n  border: 1px solid rgba(8, 61, 119, 1);\n  padding: 2%;\n  display: flex;\n  align-items: center;\n  margin-bottom: 2%;\n  border-radius: 10px;\n"]))),Ec=ee.default.Text(fc||(fc=$()(["\n  font-size: 18px;\n  margin-left: 5%;\n"]))),Vc=function(e){var t=e.title,n=e.link,r=e.logo,i=Object(xn.useNavigation)();return Object(h.jsxs)(Tc,{activeOpacity:.6,onPress:function(){i.navigate(n)},children:[Object(h.jsx)(kc,{children:Object(h.jsx)(Nn.default,{name:r,size:30,color:"rgba(8, 61, 119, 1)"})}),Object(h.jsx)(Ec,{children:t})]})},zc=ee.default.View(jc||(jc=$()(["\n  width: 90%;\n  display: flex;\n"]))),Ac=function(){return Object(h.jsxs)(zc,{children:[Object(h.jsx)(Vc,{title:"Liste des devis",logo:"th-list",link:"Liste des devis"}),Object(h.jsx)(Vc,{title:"Faire un devis",logo:"plus",link:"Cr\xe9ation de devis"})]})},Nc=ee.default.SafeAreaView(bc||(bc=$()(["\n  backgroundcolor: '#EEEFF5';\n  display: flex;\n  flex-direction: column;\n"]))),Lc=ee.default.View(pc||(pc=$()(["\n  height: 60%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Dc=ee.default.Text(xc||(xc=$()(["\n  align-self: flex-start;\n  font-size: 18px;\n  font-weight: 600;\n  margin: 2% 2%;\n"]))),Fc=function(){return Object(h.jsx)(Nc,{children:Object(h.jsxs)(Lc,{children:[Object(h.jsx)(Dc,{children:"Actions rapides"}),Object(h.jsx)(Ac,{})]})})},Ic=ee.default.SafeAreaView(hc||(hc=$()(["\n  background: #eeeff5;\n  height: 100%;\n"]))),Rc=function(){var e=Object(r.useContext)(w).user;return Object(h.jsxs)(Ic,{children:[Object(h.jsx)(ri,{user:e}),Object(h.jsx)(li,{parameters:ji})]})},Bc=Object(s.default)(),_c=function(){return Object(h.jsx)(Bc.Navigator,{screenOptions:{headerShown:!1},children:Object(h.jsx)(Bc.Screen,{name:"accountStack",component:Rc})})},Mc=n(219),Uc=ee.default.TouchableOpacity(Oc||(Oc=$()(["\n  background: #fdfdff;\n  padding: 15px;\n  border-radius: 30px;\n  margin-top: 5%;\n  width: 50%;\n  border: solid 1px black;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n"]))),Hc=ee.default.Text(gc||(gc=$()(["\n  font-size: 18px;\n  margin-right: 10px;\n  font-weight: 600;\n"]))),Wc=function(e){var t=e.onPress;return Object(h.jsxs)(Uc,{onPress:t,children:[Object(h.jsx)(Hc,{children:"D\xe9connexion"}),Object(h.jsx)(Mc.default,{name:"logout",size:20})]})},Jc=[{id:1,title:"Param\xe8tres des utilisateurs",link:"Liste des utilisateurs",autorisedRole:"admin"}],Kc=ee.default.SafeAreaView(mc||(mc=$()(["\n  background: #eeeff5;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),qc=ee.default.Text(wc||(wc=$()(["\n  font-size: 25px;\n  font-weight: 600;\n  margin-bottom: 30%;\n"]))),Gc=function(){var e=Object(r.useContext)(O);return Object(h.jsxs)(Kc,{children:[Object(h.jsx)(qc,{children:"Param\xe8tres de l'application"}),Object(h.jsx)(li,{parameters:Jc}),Object(h.jsx)(Wc,{onPress:function(){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.logout()}catch(n){x(n)}case 1:case"end":return t.stop()}}),null,null,null,Promise)}})]})},Qc=Object(s.default)(),Xc=function(){return Object(h.jsx)(Qc.Navigator,{screenOptions:{headerShown:!1},children:Object(h.jsx)(Qc.Screen,{name:"parametersStack",component:Gc})})},Yc=Object(Sc.default)(),Zc=function(){return Object(h.jsxs)(Yc.Navigator,{screenOptions:function(e){var t=e.route;return{headerShown:!0,headerStyle:{backgroundColor:"#083D77"},headerTintColor:"#EFEFEF",tabBarIcon:function(e){var n=e.color,r=e.size;return Object(h.jsx)(Nn.default,{name:{Accueil:"home",Notifications:"bell",Compte:"user","Param\xe8tres":"gear"}[t.name],size:r,color:n})},tabBarActiveTintColor:"#EFEFEF",tabBarStyle:{backgroundColor:"#083D77",paddingTop:10},tabBarInactiveTintColor:"#486381"}},children:[Object(h.jsx)(Yc.Screen,{name:"Accueil",component:Fc,options:{title:"App Devis",tabBarLabel:"Accueil"}}),Object(h.jsx)(Yc.Screen,{name:"Compte",component:_c}),Object(h.jsx)(Yc.Screen,{name:"Param\xe8tres",component:Xc})]})};function $c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ta=Object(s.default)(),na=function(){var e=Object(r.useContext)(O),t=Object(r.useContext)(w),n=t.user,i=t.setUser;return Object(r.useEffect)((function(){e.authState.authenticated||b.get("/check-token").then((function(e){return e.data})).then((function(t){i(ea(ea({},n),t)),e.setAuthState({authenticated:!0})})).catch((function(t){return e.setAuthState({authenticated:!1})}))}),[]),Object(h.jsxs)(o.default,{children:[Object(h.jsx)(a.default,{barStyle:"light-content"}),e.authState.authenticated?Object(h.jsxs)(ta.Navigator,{screenOptions:{headerShown:!1,headerStyle:{backgroundColor:"#083D77"},headerTintColor:"#EFEFEF"},children:[Object(h.jsx)(ta.Screen,{name:"App devis",component:Zc}),Object(h.jsx)(ta.Screen,{name:"Cr\xe9ation de devis",component:bn,options:{headerShown:!0}}),Object(h.jsx)(ta.Screen,{name:"Liste des devis",component:Dr,options:{headerShown:!0}}),Object(h.jsx)(ta.Screen,{name:"Liste des utilisateurs",component:Zr,options:{headerShown:!0}}),Object(h.jsx)(ta.Screen,{name:"Utilisateur admin view",component:xi,options:{headerShown:!0,title:""}}),Object(h.jsx)(ta.Screen,{name:"Changement du mail",component:Di,options:{headerShown:!0,title:""}}),Object(h.jsx)(ta.Screen,{name:"Changement du mot de passe",component:Xi,options:{headerShown:!0,title:""}}),Object(h.jsx)(ta.Screen,{name:"Cr\xe9ation utilisateur",component:Pc,options:{headerShown:!0,title:""}})]}):Object(h.jsx)(Y,{})]})};function ra(){return Object(h.jsx)(m,{children:Object(h.jsx)(v,{children:Object(h.jsx)(na,{})})})}},224:function(e,t,n){e.exports=n(307)}},[[224,1,2]]]);
//# sourceMappingURL=app.47b09d00.chunk.js.map